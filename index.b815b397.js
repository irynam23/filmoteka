var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},i={},a=t.parcelRequired7c6;null==a&&((a=function(t){if(t in e)return e[t].exports;if(t in i){var a=i[t];delete i[t];var n={id:t,exports:{}};return e[t]=n,a.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){i[t]=e},t.parcelRequired7c6=a);var n=a("2shzp"),o=(n=a("2shzp"),a("iQIUW")),s=a("dSs1Y");const r=document.querySelector(".form"),l=document.querySelector("#search"),c=document.querySelector(".notification");let d="";async function g(t,e){const{data:i}=await n.default.get(`https://api.themoviedb.org/3/search/movie?api_key=004aa31770cc2729c6dd319813b8b5dc&query=${t}&page=${e}`);return i}l.addEventListener("keyup",(t=>{c.classList.add("close")})),r.addEventListener("submit",(async function(t){t.preventDefault(),s.Loading.standard(),s.Loading.remove(800);const{elements:{search:e}}=t.currentTarget;if(d=e.value,e.value.length<2)return o.Notify.warning("Its name too short.Enter the correct movie name, please."),t.currentTarget.reset(),void(l.value="");try{const{results:t,page:e,total_pages:i}=await g(d.trim(),1),a=document.querySelector(".cards__list");a&&(a.innerHTML=""),Array.isArray(t)&&t.length?(v(t),_(1,i)):(c.classList.remove("close"),l.value="",_(0,0))}catch(t){console.log(t)}}));const p=document.querySelector(".pagination-container");let u=0;function _(t,e){let i="",a=t-2,n=t-1,o=t+1,s=t+2;u=t,console.log("currentPage,allPage",t,e),t>1&&(i+='<li class="pagination__item arrow-left" >&#129144;</li>',i+='<li class="pagination__item">1</li>'),window.innerWidth>=768?(t>4&&(i+='<li  class="pagination__item dotsLeft">...</span>'),t>3&&(i+=`<li  class="pagination__item">${a}</li>`),t>2&&(i+=`<li  class="pagination__item">${n}</li>`),i+=`<li class="pagination__item pagination__item--active">${t}</li>`,e-1>t&&(i+=`<li  class="pagination__item">${o}</li>`),e-2>t&&(i+=`<li class="pagination__item">${s}</li>`),e-3>t&&(i+='<li  class="pagination__item dotsRight">...</li>'),e>t&&(i+=`<li  class="pagination__item">${e}</li>`,i+='<li  class="pagination__item arrow-right">&#129146;</li>')):(t>3&&(i+=`<li  class="pagination__item">${a}</li>`),t>2&&(i+=`<li  class="pagination__item">${n}</li>`),i+=`<li class="pagination__item pagination__item--active">${t}</li>`,e-1>t&&(i+=`<li  class="pagination__item">${o}</li>`),e-2>t&&(i+=`<li class="pagination__item">${s}</li>`),e>t&&(i+=`<li  class="pagination__item">${e}</li>`,i+='<li  class="pagination__item arrow-right">&#129146;</li>')),e||(i=""),p.innerHTML=i,window.scrollTo({top:0,behavior:"smooth"})}p.addEventListener("click",(function(t){if(d){if("LI"!==t.target.nodeName)return;if("..."===t.target.textContent)return;if("ðŸ¡¸"===t.target.textContent)return void g(d,u-=1).then((({results:t,page:e,total_pages:i})=>{v(t),_(e,i)}));if("ðŸ¡º"===t.target.textContent)return void g(d,u+=1).then((({results:t,page:e,total_pages:i})=>{v(t),_(e,i)}));const e=t.target.textContent;g(d,e).then((({results:t,page:e,total_pages:i})=>{v(t),_(e,i)}))}else{if("LI"!==t.target.nodeName)return;if("..."===t.target.textContent)return;if("ðŸ¡¸"===t.target.textContent)return void h(u-=1).then((({results:t,page:e,total_pages:i})=>{v(t),_(e,i)}));if("ðŸ¡º"===t.target.textContent)return void h(u+=1).then((({results:t,page:e,total_pages:i})=>{v(t),_(e,i)}));h(t.target.textContent).then((({results:t,page:e,total_pages:i})=>{v(t),_(e,i)}))}}));const m=document.querySelector(".cards__list");"/library.html"!==window.location.pathname&&async function(){try{const{results:t,page:e,total_pages:i}=await h();f=await async function(){const{data:t}=await n.default.get("https://api.themoviedb.org/3/genre/movie/list?api_key=004aa31770cc2729c6dd319813b8b5dc");return t.genres}(),v(t),_(1,i)}catch(t){console.log(t)}}();let f=[];async function h(t=1){const{data:e}=await n.default.get(`https://api.themoviedb.org/3/trending/movie/week?api_key=004aa31770cc2729c6dd319813b8b5dc&page=${t}`);return e}function v(t){m.innerHTML="";const e=t.map((t=>`<li class="cards__item" data-id="${t.id}">\n\n     \n          <img\n            class="cards__photo"\n            alt="movie"\n            src="https://image.tmdb.org/t/p/w500${t.poster_path}"\n            \n            loading="lazy"\n          />\n          <h3 class="cards__title">${t.title}</h3>\n          <p class="cards__info">${function(t,e){const i=t.reduce(((t,i)=>e.includes(i.id)?[...t,i.name]:t),[]);return i.length>2?i.slice(0,2):i}(f,t.genre_ids).join(", ")} | ${t.release_date.split("-")[0]}</p>\n        </li>`)).join("");m.insertAdjacentHTML("beforeend",e)}a("bTcpz"),a("bO1YF"),a("37v9V"),a("7bbyT");
//# sourceMappingURL=index.b815b397.js.map
